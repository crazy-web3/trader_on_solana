## 合约网格

合约网格是一种量化交易策略，用于自动买卖期货合约。合约网格机器人可在设置的价格区间内，根据预设的时间间隔，自动在市场上下单。

在网格交易中，系统会根据设定的价格，在高于或低于该价格的位置自动下单，从而形成价格递增和递减的订单网格。通过这种方式，即可构建一个完整的交易网格。例如，交易者可以按每 1,000 USDT 为单位，在低于市场价的位置挂 BTC 买单，并在高于市场价的位置挂 BTC 卖单，从区间震荡行情中获利。

当行情震荡及盘整，价格在给定范围内波动时，网格交易策略表现最佳。这一策略旨在通过小幅的价格波动获利。网格数量越多，交易频率越高，但每笔订单的收益会越低。

![image](https://public.bnbstatic.com/image/cms/article/body/202308/94e0396aa50e10e018dbd88cdfda11d0.gif)

因此，交易者需要在高频小额收益和低频大额收益之间按需选择。

### 币安网格交易如何运作？

币安网格交易现支持 U 本位和币本位合约。您可以自定义网格参数，设置网格上下限以及网格数量。创建网格后，系统将自动以预设价格执行买卖订单。

下面来了解一下网格交易的运作原理。

假设您预计 BTC 的价格在未来 24 小时内将徘徊在 50,000 USDT 到 60,000 USDT 之间。在这种情况下，您就可以设置网格交易策略，在此预测价格区间内进行交易。

在网格交易面板上，您可以设置以下机器人参数：

- 价格范围的上下限；
- 在设置的价格范围内的下单数量；以及
- 每笔限价买卖单之间的价差。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021727522.png)

在这种情况下，随着 BTC 价格跌向 55,000 USDT，网格交易机器人会自动在下跌过程中以低于市场价的价格累积买单。随着价格回调，机器人将在上涨过程中以高于市场价的价格执行卖单。这一策略的本质是从价格回调中赚取收益。

对于多空网格，您可以在创建网格时选择是否开立初始仓位。如果您选择开立初始仓位，则会在多头网格上开立多头仓位，在空头网格上开立空头仓位。中性网格则不会开立初始仓位。

#### **开立初始仓位会如何影响您的多空网格？**

- **当开立初始仓位**：如果根据您创建的网格对市场方向的判断准确，您可能会获得更多利润。但是，如果市场方向相反，您也可能面临更大的损失。
- **当不开立初始仓位**：在这种情况下，设置将类似于中性网格。中性网格可能会先买后卖，或者先卖后买，具体取决于市场趋势。另一方面，多头网格会先买后卖，而空头网格会先卖后买。
  注意：如果您选择不为合约网格开立初始仓位，则合约网格的挂单数量将少于您设置的网格数量。具体的挂单数量取决于当前市场价格和配置的网格范围。

欲了解详情，请参阅[什么是多头/空头网格交易](https://www.binance.com/cn/support/faq/904e47602a3941b99e960a31e152a986)。

***风险提示：**网格交易作为一种策略性交易工具，不应被视为币安的财务或投资建议。使用网格交易时必须小心谨慎，风险由用户自担。对于用户因使用网格交易而造成的任何损失，币安不承担任何责任。用户应阅读并完全理解本网格交易指南，合理评估风险承受能力，根据自身经济状况做出理性的交易决策。*

### 如何设置网格交易策略？

1. 登录币安账户并前往**【**[**合约**](https://www.binance.com/cn/futures/home)**】**。然后，点击**【交易机器人】**-**【合约网格】**。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021727720.png)

如果您使用的是币安 App，请点击**【合约】**-**【U 本位】**或**【币本位】**。然后，点击底部仓位栏上的**【合约网格】**。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021727863.png)

2. 选择要执行策略的币对并设置网格参数。选择网格交易方向（做多、做空或中性）、价格范围、网格数量，以及投资额。然后，点击**【创建】**进行确认。

![image](https://public.bnbstatic.com/image/cms/article/body/202506/07b7ec2928acb95b8f6c6acbc711cdb2.png)

请注意，以下情况可能会导致新网格创建失败：

- 所选币对在全仓杠杆模式下已有运行中的网格策略。
- 所选币对在全仓杠杆模式下有未完成的网格策略订单或仓位。
- 已达网格策略最高上限：
  - 每位用户最多可创建 99 个 U 本位合约网格策略：全仓杠杆模式下 50 个不同交易對的網格機器人，逐仓杠杆模式下 49 个任意交易對網格機器人。
  - 上述数量与币本位合约分开计算，币本位合约最多支持 50 个使用全仓杠杆**网格交易机制**的网格策略。币本位合约网格策略暂不支持逐仓模式。
  - 上述限制适用于账户层级；每个子账户也可单独拥有相同的限制。

### 网格交易机制

我们以 U 本位合约 BTCUSDT 永续合约为例来说明网格交易流程。

- 设置网格触发条件（可选）
- 定义网格策略的初始结构
- 初始网格创建
- 网格更新
- 设置终止触发条件（可选）
- 订单取消

**设置网格触发条件（可选）**



对于参数 #10 和 #11：

您可以选择立即下网格限价单，也可以选择在市场价达到某一特定值时触发限价单。当市场价（最新价或标记价格）高于或低于您输入的触发价格时，将触发网格订单。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021727242.png)

**定义网格策略的初始结构**



对于参数 #1、#2、#3、#4 和 #6：

您可以根据最新市场价（买入价、卖出价和中间价）确定一系列价位，以高于市场价的价格下限价卖单，并以低于市场价的价格下限价买单，然后等待限价单触发执行。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021727000.png)

**如何创建初始网格？**



对于中性网格，策略不涉及初始仓位。相反，只有在市场行情在初始设置后超越最接近的价格点位时，才会建立初始仓位。

**示例：**

假设您的策略参数设置如下：

- 合约：BTCUSDT 永续
- 最低价格：20,000 USDT
- 最高价格：45,000 USDT
- 网格数量：5
- 模式：等差网格

价格分布如下：20,000 USDT、25,000 USDT、30,000 USDT、35,000 USDT、40,000 USDT、45,000 USDT

中性网格的初始卖单会以高于当前市场价的价格下单。同时，买单会以低于当前市场价的价格下单。请注意，与市场价最接近的价格将会被排除。在这种情况下，初始网格限价单将以如下方式下单：

| 方向 | 价位        |
| ---- | ----------- |
| 卖出 | 45,000 USDT |
| 卖出 | 40,000 USDT |
| 买入 | 30,000 USDT |
| 买入 | 25,000 USDT |
| 买入 | 20,000 USDT |

**网格更新**



网格更新是指在每次触及价格点（即限价单成交）时，网格限价单将及时更新。最近成交订单的价格点位将“关闭”，即该价格不会再触发任何订单。限价买单或卖单会随后根据设置参数再次成交，保持网格中的限价单数量不变。

假设初始市场价为 10,010 USDT，则每个单位的网格限价为：

| 价位        | 方向 |
| ----------- | ---- |
| 10,200 USDT | 卖出 |
| 10,100 USDT | 卖出 |
| 10,000 USDT | 买入 |
| 9,900 USDT  | 买入 |
| 9,800 USDT  | 买入 |

假设价格下跌至 10,000 USDT 且买单成交（初始开仓），则网格限价单将为：

| 价位        | 方向 |
| ----------- | ---- |
| 10,200 USDT | 卖出 |
| 10,100 USDT | 卖出 |
| 10,000 USDT | -    |
| 9,900 USDT  | 买入 |
| 9,800 USDT  | 买入 |

假设价格上涨至 10,100 USDT，则会触发执行 10,100 USDT 的卖单。网格限价单将更新如下：

| 价位        | 方向 |
| ----------- | ---- |
| 10,200 USDT | 卖出 |
| 10,100 USDT | -    |
| 10,000 USDT | 买入 |
| 9,900 USDT  | 买入 |
| 9,800 USDT  | 买入 |

若价格随后下跌至 9,900 USDT，则会接着执行两个买单（10,000 USDT 和 9,900 USDT），之后网格限价单将更新如下：

| 价位        | 方向 |
| ----------- | ---- |
| 10,200 USDT | 卖出 |
| 10,100 USDT | 卖出 |
| 10,000 USDT | 卖出 |
| 9,900 USDT  | -    |
| 9,800 USDT  | 买入 |

以此类推。



## 关于网格交易参数

选择要部署交易机器人的合约。

![image](https://public.bnbstatic.com/image/cms/article/body/202507/2a9c462d14218e705d6dd57a99a3f648.png)

**1. 网格交易杠杆**



先调整杠杆。**请注意，杠杆在放大收益的同时也可能造成更多损失。**借助杠杆，您可以放大相对较小的价格波动，创造潜在收益。然而，杠杆是一把双刃剑，请谨慎使用。

**2. 价格下限/上限**



*对于U本位合约网格，您可以在网格运行期间调整价格区间和网格数量。但对于币本位合约网格，一旦创建后，这些参数将无法修改。

设置网格的价格上限和下限。如果超过最高或最低网格，将不会继续开仓。假设当前 BTCUSDT 永续合约的价格为 48,000 USDT，而您预计价格超过 49,000 USDT 后将会开始下跌。在这种情况下，您可以将价格上限设置为 49,000 USDT。价格达到 49,000 USDT 后，网格将不会继续开仓。

**3. 等差/等比模式**



**网格交易下单后，无法再进行修改*

**等差网格：**每个网格的价差相等。

等差网格模式将网格上下限之间的价格区间按同一价差等分为一定数量的网格。

每个网格的价差为：

价差 = (网格上限 - 网格下限) / 网格数量

构造出来的一系列价格区间为：

price_1 = 网格下限

price_2 = 网格下限 + 价差

price_3 = 网格下限 + 价差 ^ 2

...

价格_n = 网格下限 + 价差 * (n-1)

在网格上限处，n = 网格数量

示例：等差网格价差 = 100：1,000、1,100、1,200、1,300、1,400...（即价格依次递增 100）

**等比网格：**每个网格的价格比率相等。

等比网格模式将网格上下限之间的价格区间按同一价格比率等分为一定数量的网格。

每个网格的价格比率为：

价格比率 = (网格上限 / 网格下限) ^ (1 / 网格数量)

每个网格的价差为：

价差百分比 = ((网格上限 / 网格下限) ^ (1 / 网格数量) - 1) * 100%

构造出来的一系列价格区间为：

price_1 = 网格下限

价格 2 = 网格下限 * 价格比率

price_3 = 网格下限 * 价格比率 ^ 2

...

价格 n = 网格下限 * 价格比率 ^ (n-1)

在网格上限处，n = 网格数量

示例：等比网格价差百分比 = 10%：1,000、1,100、1,210、1,331、1,464.1...（即价格依次递增 10%）

**4. 网格数量（即限价单数量）**



**网格交易下单后，无法再进行修改*

- 下限：2
- 上限：169

注：价差不得小于最小变动价位，且最小差价可能因交易对而异。如果您遇到“网格差价过小”的错误，请相应地调整网格数量、网格上下限或网格交易量。为了减少系统负载，对于最小报价单位为 0.00001 或更小的交易对，最小差价为 20*最小报价单位；对于最小报价单位等于 0.0001 的交易对，最小差价为 5*最小报价单位。对于最小报价单位大于 0.0001 的交易对，没有差价限制。

如何计算？

1) 等差网格：价差 = (网格上限 - 网格下限) / 网格数量（小于最小变动价位）
2) 等比网格：最低价差 = 网格下限 * 价格比率（小于最小变动价位）；价格比率 = (网格上限 / 网格下限) ^ (1 / 网格数量)

**5. 每格收益（扣除交易手续费后）**



如果每格收益低于挂单方佣金，您将会收到通知，表明网格总收益可能不足以支付交易手续费。

**计算方式**（此处所示的每格收益仅供参考）

**1) 等差网格**

d = (网格上限 - 网格下限) / 网格数量

c = 交易手续费率（您当前的挂单方手续费率）

每格最低收益 = (网格上限 * (1 - c)) / (网格上限 - d) - 1 -c

每格最高收益 = (1 - c) * d / 网格下限 - 2c

例如：价格区间 = 1,000 - 2,000，网格数量 = 10，手续费率 = 0.1%

每格价差 = (2,000 - 1,000) / 10 = 100

每格最低收益 = (2,000 * (1 - 0.1%)) / (2,000 - 100) - 1 - 0.1% = 5.05%

每格最高收益 = (1 - 0.1%) * 100 / 1,000 - 2 * 0.1% = 9.79%

**2) 等比网格**

r = (网格上限 / 网格下限) ^ (1 / 网格数量)

c = 交易手续费率（您当前的挂单方手续费率）

每格等比收益 = (1-c) * r - 1 - c

例如：价格区间 = 1,000 - 2,000，网格数量 = 10，手续费率 = 0.1%

每格价格比率 = (2,000 / 1,000) ^ (1 / 10) = 107.18%

每格收益 = (1 - 0.1%) * 107.18% - 1 - 0.1% = 6.97%

**6. 投资额**



**网格交易下单后，无法再进行修改*

投资额 = 初始投资额 / 杠杆倍数

您可以调整可投资金额百分比，最高可设置为 100%（初始保证金 = 百分比 * 保证金余额）。请注意，该值必须介于最低初始保证金与保证金余额之间。

U 本位合约网格

最小网格交易量的计算：

最小网格交易量 = max(最小数量, 最小名义价值 / 网格下限)

- 网格方向为中性时

最低初始保证金 = 最小网格交易量 * sum(价格) / (杠杆倍数 * 调整系数)

- 网格方向为做多/做空时

“假设价格”按照以下公式定义：

假设价格（买入）= 价格*

假设价格（卖出）= max(标记价格, 价格)

*“价格”是网格交易策略中每笔订单的价格，根据网格参数自动设置。后文中每次提及的“价格”均适用此定义。

最低初始保证金 = sum(最小网格交易量 * 假设价格 + 杠杆倍数 * 最小网格交易量 * abs{min[0, 方向 * (标记价格 - 价格)]}) / (杠杆倍数 * 调整系数)

注：如果您已设置触发价格，则应将标记价格替换为触发价格。

币本位合约网格

最小网格交易量的计算：

最小网格交易量 = minQty

- 网格方向为中性时

最低初始保证金 = 最小网格交易量 * sum(合约乘数 / 价格) / (杠杆倍数 * 调整系数)

- 网格方向为做多/做空时

“假设价格”的定义：

假设价格（买入）= min(标记价格, 价格)

假设价格（卖出）= 价格

最低初始保证金 = 最小网格交易量 * sum(合约乘数 / 假设价格 + 杠杆倍数 * 合约乘数 * abs{min[0, 方向 * (1 / 订单价格 - 1 / 标记价格)]}) / (杠杆倍数 * 调整系数)

*“最小网格交易量”是币对的最小交易量。欲了解详情，请访问交易规则页面。

*如果您已设置触发价格，则应将标记价格替换为触发价格。

*目前，调整系数默认设置为 0.8，将根据市场情况随时调整。

**7. 总投资额**



**网格交易下单后，无法再进行修改*
总投资额 = 初始保证金 * 杠杆倍数

**8. 每单数量**



U 本位合约网格

网格方向为中性时：

网格交易量 = 调整系数 * 初始保证金 * 杠杆倍数 / sum(价格)

网格方向为做多/做空时：

“假设价格”按照以下公式定义：

假设价格（买入）= 价格

假设价格（卖出）= max(标记价格, 价格)

网格交易量 = 调整系数 * 初始保证金 * 杠杆倍数 / sum(假设价格 + 杠杆倍数 * abs(min(0, 方向 * (标记价格 - 价格))))

*如果您已设置触发价格，则应将标记价格替换为触发价格。

币本位合约网格

网格方向为中性时：

网格交易量 = 调整系数 * 初始保证金 * 杠杆倍数 / sum(1 / 价格)

网格方向为做多/做空时：

“假设价格”按照以下公式定义：

假设价格（买入）= min(标记价格, 价格)

假设价格（卖出）= 价格

网格交易量 = 调整系数 * 初始保证金 * 杠杆倍数 / sum(合约乘数 / 假设价格 + 杠杆倍数 * 合约乘数 * abs(min(0, 方向 * (1 / 价格 - 1 / 标记价格))))

*如果您已设置触发价格，则应将标记价格替换为触发价格。

**9. 多/空网格策略计划及即时订单**



**如何设置网格订单？**

**常用规则**

- 激活网格策略时，您配置的网格线数量决定了在价格区间内下单的数量。
- 例如，如果您激活一个包含 12 个网格的网格策略，则会在价格区间内以等间隔下单 12 笔订单。
- 订单之间的差距是根据网格的整体价格区间、指定的网格线数量以及网格间距（等差或等比）计算得出的。

**多/空网格策略的初始下单方式与中性网格策略有何不同？**

中性网格策略激活后，会在当前市场价格的上方和下方均匀分布订单。这意味着触发的第一个订单将根据价格走势建立新的多头或空头头寸。如果价格上涨，则会触发卖单，网格策略将以空头头寸开始。如果价格下跌，则会触发买单，网格策略将以多头头寸开始。

与中性网格策略不同，多头网格策略（初始仓位已开立）在激活时（T+0）只会在高于当前价格的位置下买单。这样做的目的是在网格激活时，由于高价买单会在接近最后成交价的位置成交，因此能够立即建立多头头寸。成交的买单随后会被卖单替换（T+1）。

遵循同样的逻辑，空头网格（初始仓位已开立）激活后，只会挂出低于当前价格的卖单，从而建立空头头寸。其目标是在网格激活时（T+0），由于低价卖单会在接近最后成交价时成交，因此能够立即建立空头头寸。成交的卖单随后会被买单替换（T+1）。

- 高于最后成交价的多单在激活后很可能以接近最后成交价的价格成交，从而建立起一个多头头寸，其规模等于初始成交订单的总规模（T+1）。
- 成交的多单随后会自动被卖单替换，并在网格预览中体现出来。
- **请注意，网格预览反映的是T+1时的网格订单，而不是T+0时的**。在K线图上，您将在网格预览中看到买单和卖单的组合，而不是网格激活后立即显示的初始订单（对应于T+0）。

初始下单的逻辑在于，多头网格通过在接近当前市场价格成交的买入限价单来建立初始多头头寸。如果预期出现上涨趋势，则可以利用这些限价单在网格价格区间内的更高价格位卖出多头头寸，从而获利。

类似地，空头网格通过在接近当前市场价格成交的卖出限价单来建立初始空头头寸。如果预期出现下跌趋势，则可以利用网格价格区间内的更低价格买回空头头寸，从而以更有利的价格平仓。

**举例**

您已在 ETHUSDT 上设置了一个多头网格，并选择了初始仓位：

- ETHUSDT 价格：1,650.70 USDT
- 网格数量：5（等差网格）
- 初始投资：100 USDT
- 价格区间：1,620 - 1,800 USDT

由于这是一个由 5 个网格组成的多头网格，系统将在网格确认后立即挂出 5 个买入限价单，以建立初始多头仓位。

根据网格激活时的价格区间和 ETHUSDT 价格，这 5 个限价单中有 4 个的挂单价格高于网格激活时（T+0）的最后一个价格。

这会导致高于当前市场价格的 4 个限价单立即成交，从而建立您的初始多头仓位。

![image](https://public.bnbstatic.com/image/cms/content/body/202511/7e3f04a82e301297d3614c219b2ebba8.png)

*已成交的网格机器人订单*

随后，已成交的买入限价单会自动被卖出单替换，这些卖出单又会被放置在上方的网格（T+1）上。

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021723597.png)

*网格机器人挂单*

![image](https://gitee.com/justrightnow/typora_pic/raw/master/img/202602021723798.png)

*在K线图上预览网格机器人订单*

因此，T+1 时的初始多头头寸规模由当前价格以上的网格数构成，对应于已执行的初始买入限价单。

![image](https://public.bnbstatic.com/image/cms/content/body/202511/99d5f22b6de826f842df63ad4cbd0e68.png)

考虑到 4 个买入市价单，您的初始仓位规模将为 4 * 0.027 ETH = 0.108 ETH，相当于 178.28 USDT，初始入场价格为 1,650.72 USDT。

**10. 可用保证金余额**

在默认模式下，将显示您在 U 本位或币本位合约账户中的保证金余额。在统一账户模式下，将显示现货账户中的可用余额。



### 自动追加保证金金额的计算

当杠杆区间下调时，自动追加保证金金额的计算方式如下：

1. 计算当前的最大名义价值

最大名义价值 = (仓位名义价值的绝对值 + 价格 * 数量) * 缓冲比例

其中，仓位名义价值 = 仓位数量 * 标记价格，缓冲比例为 1.005。

2. 获取与当前杠杆区间对应的最大名义价值

欲查看杠杆区间，请参阅[交易规则](https://www.binance.com/cn/futures/trading-rules/perpetual/leverage-margin)页面。

- 如果等级下限 ≤ 最大名义价值 < 等级上限，则使用该等级对应的杠杆（称为“调整后杠杆”）。
- 如果用户当前的杠杆倍数（调整前杠杆）> 该等级的杠杆倍数（调整后杠杆），则自动调整策略杠杆倍数。
- 计算当前网格的账户可用保证金

- 调整前用户的初始保证金（调整前初始保证金）= 最大名义价值 / 调整前杠杆。
- 根据调整后的区间，维持网格所需的保证金（调整后初始保证金） = 最大名义价值 / 调整后杠杆。
- 对于中性网格，以及禁用【创建时市价建仓】的做多/做空网格：

可用保证金 = 保证金余额 - 总初始保证金 - 调整后初始保证金

- 对于启用【创建时市价建仓】的做多/做空网格：

可用保证金 = 保证金余额 - 总初始保证金

4. 计算当前网格所需的保证金

所需保证金 = max(调整后初始保证金 - 调整前初始保证金, 0)

5. 计算自动追加保证金金额

- 如果可用保证金 ≥ 所需保证金，则无需追加保证金。
- 如果可用保证金 < 所需保证金，则自动追加保证金金额 = 所需保证金 - 可用保证金。

**12. 触发类型：最新价/标记价格**



**可选，网格触发前可以修改*

1) 网格触发类型：当您选择的最新价或市场价达到触发价格时，网格将开始运行。
2) 终止触发类型：当最新价或市场价达到终止最高价格或终止最低价格时，网格将停止执行。

**13. 触发价格**



**可选，网格交易下单后仍可修改*

当最新价或标记价格高于或低于您所设置的触发价格时，即会触发网格订单。



**15. 创建时市价建仓**



*用户在创建做多或做空合约网格时，可选择是否建仓。如果勾选此框，则在创建网格时建仓，否则不会建仓。欲了解详情，请参阅此*[*常见问题*](https://www.binance.com/cn/support/faq/904e47602a3941b99e960a31e152a986)*。*



**如何计算占用保证金？**



仓位名义价值 = 最新标记价格 * 仓位规模

仓位名义价值 = abs(仓位名义价值)

当前名义价值 = max(abs(仓位名义价值 + 买单的挂单名义价值), abs(仓位名义价值 - 卖单的挂单名义价值))

*Abs：绝对值

买单的挂单名义价值 = 买单名义价值

卖单的挂单名义价值 = 卖单名义价值

- 全仓杠杆：
  占用保证金 = 当前名义价值 / 当前杠杆倍数
- 逐仓杠杆：
  占用保证金 = (当前名义保证金 - 仓位名义价值) / 杠杆倍数 + 逐仓账户余额





## 网格详情

| **时间**         | 网格创建时间                                                 |
| ---------------- | ------------------------------------------------------------ |
| **合约**         | 点击币对旁的杠杆倍数，即可调整网格杠杆                       |
| **已投保证金**   | 网格创建时的保证金 + 追加投资额                              |
| **总收益**       | 总收益 = 已实现盈亏 + 未实现盈亏 + 资金费用注：如果启用了【终止时全部平仓】功能，并且当前网格有未平仓位，则在网格终止后，所有仓位都将以市场价平仓。平仓仓位的盈亏将计入网格收益。 |
| **总收益率**     | 总收益率 = 总收益 / 初始保证金 * 100%                        |
| **已撮合收益**   | 每个撮合订单的总收益。                                       |
| **未撮合盈亏**   | 未撮合盈亏 = 总收益 - 已撮合收益 - 资金费用                  |
| **已实现盈亏**   | 网格交易的已实现盈亏为所有已成交订单的累积已实现收益减去交易手续费。对于等差网格，总收益 = 已成交订单数 * 每格收益 - 手续费总额 |
| **未实现盈亏**   | 未平仓位的未实现盈亏根据最新价以及回报率计算得出             |
| **运行时间**     | 网格触发后运行的时间                                         |
| **强平价格**     | 请参阅 [U 本位期货合约](https://www.binance.com/cn/support/faq/b3c689c1f50a44cabb3a84e663b81d93)和[币本位期货合约](https://www.binance.com/cn/support/faq/ceccfcfb4e3a45e3b48b0b1bb1a8ae46)的强平价格计算方式。 |
| **机器人风险率** | 机器人风险率 (BRR) 表示您的网格因保证金不足而终止的可能性。比率越低，风险越高。如果机器人风险率低于 1.0，您的网格将过期。BRR = 保证金余额 / 占用保证金 = (全仓账户余额 + 未实现盈亏) / 占用保证金请参阅占用[保证金](https://www.binance.com/cn/support/faq/what-is-futures-grid-trading-f4c453bab89648beb722aa26634120c3)了解详情。注：请注意，极端的市场条件可能会导致显示的风险率与实际网格状态之间存在差异。该比率仅供参考，请务必查看网格的实际状态，获取准确的信息。 |
| **网格状态**     | 新网格：网格创建成功，但尚未触发运行中：网格已触发终止 - 未平仓：网格已停止运行，但相关仓位未平仓 |



⸻

做空合约网格的建仓与交易逻辑说明

做空合约网格是一种在预期价格震荡下行或高位回落行情中使用的量化交易策略。该策略通过在价格上涨过程中逐步建立空头仓位，并在价格回落时逐步平仓，从而在价格波动中获取收益。

一、做空合约网格的基本原理

做空合约网格的核心逻辑为：

在价格上涨时卖出（开空），在价格下跌时买入（平空）

系统将在用户设定的价格区间内，按照等差或等比方式划分多个价格网格。当市场价格触及某一网格价位时，系统将自动执行对应的限价订单，从而形成持续滚动的空头交易循环。

该策略适用于：
•	高位震荡行情
•	震荡下跌行情
•	回调频繁但无明显单边上涨趋势的市场环境

⸻

二、做空合约网格的建仓逻辑

1. 是否开立初始仓位
   在创建做空合约网格时，用户可选择是否开启【创建时市价建仓】：
   •	开启初始仓位
   •	系统将在网格创建时，使用接近当前市场价格的卖出限价单建立初始空头仓位
   •	适用于用户对短期行情偏空判断较为明确的场景
   •	初始仓位成交后，系统将自动在下方网格价位挂出对应的买入平仓订单
   •	不开启初始仓位
   •	系统不会立即建立空头仓位
   •	仅在价格上涨并触及上方网格价位时，才会逐步成交卖出限价单并建立空头仓位
   •	风险相对较低，更接近中性网格的运行方式

注意：是否开立初始仓位将直接影响网格在启动阶段的风险暴露程度。

⸻

2. 初始网格订单的分布方式
   在做空合约网格中：
   •	系统仅在高于当前市场价格的网格价位挂出卖出限价单；
   •	每一笔卖出限价单成交后，都会在其下方一个网格价位自动生成一笔买入限价单，用于平空。

示例（等差网格）：

价格	订单方向
3,800	卖出（开空）
3,700	卖出（开空）
3,600	卖出（开空）
当前价	—
3,400	买入（平空）
3,300	买入（平空）


⸻

三、做空合约网格的交易循环机制

1. 网格撮合与更新逻辑
   当市场价格发生波动并触及某一网格价位时：
  1.	若价格上涨并触及卖出网格：
        •	系统执行卖出限价单，建立新的空头仓位；
  2.	若价格下跌并触及买入网格：
        •	系统执行买入限价单，对应空头仓位被平仓；
  3.	每一笔成交完成后：
        •	成交价位将暂时关闭；
        •	系统会在相邻的下一个网格价位自动补充新的限价单；
        •	保持网格内有效订单数量恒定。

该机制确保网格策略在价格区间内持续运行，实现自动化的高抛低平。

⸻

2. 做空网格的滚动收益模式
   在做空合约网格中：
   •	每完成一次“卖出 → 买入”的完整循环；
   •	即可获得一个网格价差所对应的收益（扣除手续费与资金费用后）。

在震荡或回调行情中，价格的反复上下波动将不断触发网格成交，从而累计已实现收益。

⸻

四、价格突破区间时的处理机制
•	当价格上涨并突破网格上限：
•	系统将不再继续开立新的空头仓位；
•	已持有仓位将继续按照既定买入网格进行平仓；
•	当价格下跌并突破网格下限：
•	所有空头仓位理论上已逐步平仓；
•	网格将进入低活跃状态，等待价格回到区间内重新触发。

用户可结合【终止触发价格】或【手动停止网格】功能，控制策略在极端行情下的风险暴露。

⸻

五、风险提示
•	做空合约网格在单边上涨行情中可能持续累积空头仓位，放大保证金占用；
•	建议合理设置：
•	杠杆倍数
•	网格数量
•	价格上限
•	并密切关注机器人风险率（BRR）变化，防止因保证金不足导致策略被动终止。


